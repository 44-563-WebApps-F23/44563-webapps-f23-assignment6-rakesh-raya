<!DOCTYPE html>
<html>

<head>
    <title>DOM Interactions</title>
</head>

<body>

    <h2>Author entry Rakesh Somanaboina</h2>

    <form>
        <label for="authorname">The hidden author name </label>
        <input type="password" id="authorname" name="authorname" value="Dickens"> <br>

        <label for="guessauthor">Guess the author </label>
        <input type="text" id="guessauthor" name="guessauthor" autofocus> <br>

        <input type="button" id="btnCheckAuthor" onclick="checkAuthor()" value="Check the guess">
    </form>
    <p id="result">The guessed author is correct or not shown here </p>
    <div id="incorrectGuess"></div>
    <div class="container">
        <img id="imageElement" src="images/NewYork.jpeg" alt="an image of New york city" onclick="selectImage()"
            height="100px" width="100px">
    </div>
    <script>

        let good = 0;
        let oops = 0;
        let useImage = 1;

        function selectImage() {
            displayImage = document.getElementById("imageElement");
            switch (useImage) {
                case 1:
                    displayImage.src = "images/Oslo.jpg";
                    useImage += 1;
                    break;
                case 2:
                    displayImage.src = "images/Sydney.jpg";
                    useImage += 1;
                    break;
                case 3:
                    displayImage.src = "images/NewYork.jpeg";
                    useImage = 1;
                    break;
            }
        }

        function checkAuthor() {
            incorrectdisplay = document.getElementById("incorrectGuess")
            incorrectdisplay.innerHTML = "Incorrect guesses : " + (oops + 1);
            if (oops > 5) {
                alert("Sorry");
                oops++;
                displayElement.innerHTML = "oops count : " + oops;
                document.getElementById("btnCheckAuthor").setAttribute("onClick", "OutOfGuess()");
                return;
            }
            authorname = document.getElementById("authorname").value
            guessauthor = document.getElementById("guessauthor").value
            displayElement = document.getElementById("result")
            if (authorname == guessauthor) {
                alert("You got it right");
                good++;
                displayElement.innerHTML = "good count : " + good;
            } else {
                alert("Sorry");
                oops++;
                displayElement.innerHTML = "oops count : " + oops;
            }
        }

        function OutOfGuess() {
            alert("Sorry, ran out of guesses.")
            return;
        }
    </script>

</body>

</html>